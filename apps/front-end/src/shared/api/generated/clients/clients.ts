/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * Capital CRM API
 * Documenta√ß√£o da API do Capital CRM Platform
 * OpenAPI spec version: 1.0
 */
import { useMutation, useQuery } from '@tanstack/react-query';
import type {
  MutationFunction,
  QueryFunction,
  QueryKey,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from '@tanstack/react-query';

import type {
  BadRequestResponseDto,
  CreateClientDto,
  InternalServerErrorResponseDto,
  ListClientsParams,
  NotFoundResponseDto,
  PaginatedClientsResultDto,
  UnauthorizedResponseDto,
  UpdateClientDto,
} from '.././model';

import { customInstance } from '../../axios-instance';

type AwaitedInput<T> = PromiseLike<T> | T;

type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;

type SecondParameter<T extends (...args: never) => unknown> = Parameters<T>[1];

/**
 * @summary Cadastrar novo cliente
 */
export const createClient = (
  createClientDto: CreateClientDto,
  options?: SecondParameter<typeof customInstance>,
  signal?: AbortSignal,
) => {
  return customInstance<void>(
    {
      url: `/api/clients`,
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      data: createClientDto,
      signal,
    },
    options,
  );
};

export const getCreateClientMutationOptions = <
  TError = BadRequestResponseDto | UnauthorizedResponseDto | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof createClient>>,
    TError,
    { data: CreateClientDto },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationOptions<
  Awaited<ReturnType<typeof createClient>>,
  TError,
  { data: CreateClientDto },
  TContext
> => {
  const mutationKey = ['createClient'];
  const { mutation: mutationOptions, request: requestOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey }, request: undefined };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof createClient>>,
    { data: CreateClientDto }
  > = (props) => {
    const { data } = props ?? {};

    return createClient(data, requestOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type CreateClientMutationResult = NonNullable<Awaited<ReturnType<typeof createClient>>>;
export type CreateClientMutationBody = CreateClientDto;
export type CreateClientMutationError =
  | BadRequestResponseDto
  | UnauthorizedResponseDto
  | InternalServerErrorResponseDto;

/**
 * @summary Cadastrar novo cliente
 */
export const useCreateClient = <
  TError = BadRequestResponseDto | UnauthorizedResponseDto | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof createClient>>,
    TError,
    { data: CreateClientDto },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationResult<
  Awaited<ReturnType<typeof createClient>>,
  TError,
  { data: CreateClientDto },
  TContext
> => {
  const mutationOptions = getCreateClientMutationOptions(options);

  return useMutation(mutationOptions);
};
/**
 * @summary Listar todos os clientes ativos
 */
export const listClients = (
  params?: ListClientsParams,
  options?: SecondParameter<typeof customInstance>,
  signal?: AbortSignal,
) => {
  return customInstance<PaginatedClientsResultDto>(
    { url: `/api/clients`, method: 'GET', params, signal },
    options,
  );
};

export const getListClientsQueryKey = (params?: ListClientsParams) => {
  return [`/api/clients`, ...(params ? [params] : [])] as const;
};

export const getListClientsQueryOptions = <
  TData = Awaited<ReturnType<typeof listClients>>,
  TError = BadRequestResponseDto | UnauthorizedResponseDto | InternalServerErrorResponseDto,
>(
  params?: ListClientsParams,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof listClients>>, TError, TData>;
    request?: SecondParameter<typeof customInstance>;
  },
) => {
  const { query: queryOptions, request: requestOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getListClientsQueryKey(params);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof listClients>>> = ({ signal }) =>
    listClients(params, requestOptions, signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof listClients>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ListClientsQueryResult = NonNullable<Awaited<ReturnType<typeof listClients>>>;
export type ListClientsQueryError =
  | BadRequestResponseDto
  | UnauthorizedResponseDto
  | InternalServerErrorResponseDto;

/**
 * @summary Listar todos os clientes ativos
 */

export function useListClients<
  TData = Awaited<ReturnType<typeof listClients>>,
  TError = BadRequestResponseDto | UnauthorizedResponseDto | InternalServerErrorResponseDto,
>(
  params?: ListClientsParams,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof listClients>>, TError, TData>;
    request?: SecondParameter<typeof customInstance>;
  },
): UseQueryResult<TData, TError> & { queryKey: QueryKey } {
  const queryOptions = getListClientsQueryOptions(params, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
}

/**
 * @summary Buscar detalhes de um cliente por ID
 */
export const getClientById = (
  id: string,
  options?: SecondParameter<typeof customInstance>,
  signal?: AbortSignal,
) => {
  return customInstance<void>({ url: `/api/clients/${id}`, method: 'GET', signal }, options);
};

export const getGetClientByIdQueryKey = (id?: string) => {
  return [`/api/clients/${id}`] as const;
};

export const getGetClientByIdQueryOptions = <
  TData = Awaited<ReturnType<typeof getClientById>>,
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
>(
  id: string,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof getClientById>>, TError, TData>;
    request?: SecondParameter<typeof customInstance>;
  },
) => {
  const { query: queryOptions, request: requestOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getGetClientByIdQueryKey(id);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getClientById>>> = ({ signal }) =>
    getClientById(id, requestOptions, signal);

  return { queryKey, queryFn, enabled: !!id, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof getClientById>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type GetClientByIdQueryResult = NonNullable<Awaited<ReturnType<typeof getClientById>>>;
export type GetClientByIdQueryError =
  | BadRequestResponseDto
  | UnauthorizedResponseDto
  | NotFoundResponseDto
  | InternalServerErrorResponseDto;

/**
 * @summary Buscar detalhes de um cliente por ID
 */

export function useGetClientById<
  TData = Awaited<ReturnType<typeof getClientById>>,
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
>(
  id: string,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof getClientById>>, TError, TData>;
    request?: SecondParameter<typeof customInstance>;
  },
): UseQueryResult<TData, TError> & { queryKey: QueryKey } {
  const queryOptions = getGetClientByIdQueryOptions(id, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
}

/**
 * @summary Atualizar dados financeiros ou cadastrais do cliente
 */
export const updateClient = (
  id: string,
  updateClientDto: UpdateClientDto,
  options?: SecondParameter<typeof customInstance>,
) => {
  return customInstance<void>(
    {
      url: `/api/clients/${id}`,
      method: 'PATCH',
      headers: { 'Content-Type': 'application/json' },
      data: updateClientDto,
    },
    options,
  );
};

export const getUpdateClientMutationOptions = <
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof updateClient>>,
    TError,
    { id: string; data: UpdateClientDto },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationOptions<
  Awaited<ReturnType<typeof updateClient>>,
  TError,
  { id: string; data: UpdateClientDto },
  TContext
> => {
  const mutationKey = ['updateClient'];
  const { mutation: mutationOptions, request: requestOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey }, request: undefined };

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof updateClient>>,
    { id: string; data: UpdateClientDto }
  > = (props) => {
    const { id, data } = props ?? {};

    return updateClient(id, data, requestOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type UpdateClientMutationResult = NonNullable<Awaited<ReturnType<typeof updateClient>>>;
export type UpdateClientMutationBody = UpdateClientDto;
export type UpdateClientMutationError =
  | BadRequestResponseDto
  | UnauthorizedResponseDto
  | NotFoundResponseDto
  | InternalServerErrorResponseDto;

/**
 * @summary Atualizar dados financeiros ou cadastrais do cliente
 */
export const useUpdateClient = <
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof updateClient>>,
    TError,
    { id: string; data: UpdateClientDto },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationResult<
  Awaited<ReturnType<typeof updateClient>>,
  TError,
  { id: string; data: UpdateClientDto },
  TContext
> => {
  const mutationOptions = getUpdateClientMutationOptions(options);

  return useMutation(mutationOptions);
};
/**
 * @summary Remover cliente (Soft Delete)
 */
export const deleteClient = (id: string, options?: SecondParameter<typeof customInstance>) => {
  return customInstance<void>({ url: `/api/clients/${id}`, method: 'DELETE' }, options);
};

export const getDeleteClientMutationOptions = <
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof deleteClient>>,
    TError,
    { id: string },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationOptions<
  Awaited<ReturnType<typeof deleteClient>>,
  TError,
  { id: string },
  TContext
> => {
  const mutationKey = ['deleteClient'];
  const { mutation: mutationOptions, request: requestOptions } = options
    ? options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey }, request: undefined };

  const mutationFn: MutationFunction<Awaited<ReturnType<typeof deleteClient>>, { id: string }> = (
    props,
  ) => {
    const { id } = props ?? {};

    return deleteClient(id, requestOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type DeleteClientMutationResult = NonNullable<Awaited<ReturnType<typeof deleteClient>>>;

export type DeleteClientMutationError =
  | BadRequestResponseDto
  | UnauthorizedResponseDto
  | NotFoundResponseDto
  | InternalServerErrorResponseDto;

/**
 * @summary Remover cliente (Soft Delete)
 */
export const useDeleteClient = <
  TError =
    | BadRequestResponseDto
    | UnauthorizedResponseDto
    | NotFoundResponseDto
    | InternalServerErrorResponseDto,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof deleteClient>>,
    TError,
    { id: string },
    TContext
  >;
  request?: SecondParameter<typeof customInstance>;
}): UseMutationResult<
  Awaited<ReturnType<typeof deleteClient>>,
  TError,
  { id: string },
  TContext
> => {
  const mutationOptions = getDeleteClientMutationOptions(options);

  return useMutation(mutationOptions);
};
